import pandas as pd

import streamlit as st

import predict


st.set_page_config(page_title="–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∫–≤–∞—Ä—Ç–∏—Ä(—ã)",
                   page_icon="üè†")


st.write("# –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–≥–æ –º–µ—Ç—Ä–∞ –∂–∏–ª–ø–ª–æ—â–∞–¥–∏")

col1, col2 = st.columns(2)

with col1:
    adress = st.text_input('–í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å')

    part = st.selectbox('–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–π–æ–Ω –≥–æ—Ä–æ–¥–∞', ('–°–ê–û', '–õ–ê–û', '–ö–ê–û', '–¶–ê–û', '–û–ê–û'))

    material = st.selectbox('–í—ã–±–µ—Ä–∏—Ç–µ –º–∞—Ç–µ—Ä–∏–∞–ª —Å—Ç–µ–Ω', ('–ö–∏—Ä–ø–∏—á–Ω—ã–µ',
                                                       '–ö—Ä—É–ø–Ω–æ–ø–∞–Ω–µ–ª—å–Ω—ã–µ',
                                                       '–ö–∞–º–µ–Ω–Ω—ã–µ',
                                                       '–ö—Ä—É–ø–Ω–æ–±–ª–æ—á–Ω—ã–µ',
                                                       '–î–µ—Ä–µ–≤—è–Ω–Ω—ã–µ',
                                                       '–ë–ª–æ—á–Ω—ã–µ',
                                                       '–®–ª–∞–∫–æ–±–µ—Ç–æ–Ω–Ω—ã–µ',
                                                       '–ë–µ—Ç–æ–Ω–Ω—ã–µ',
                                                       '–†—É–±–ª–µ–Ω—ã–µ',
                                                       '–ö–∞—Ä–∫–∞—Å–Ω–æ-–∑–∞—Å—ã–ø–Ω—ã–µ'))

    build_year = st.number_input('–í–≤–µ–¥–∏—Ç–µ –≥–æ–¥ –ø–æ—Å—Ç—Ä–æ–π–∫–∏', min_value=1900)

with col2:
    square = st.number_input('–í–≤–µ–¥–∏—Ç–µ –ø–ª–æ—â–∞–¥—å –ø–æ–º–µ—â–µ–Ω–∏—è', min_value=10)

    floor = st.number_input('–í–≤–µ–¥–∏—Ç–µ —ç—Ç–∞–∂', min_value=1)

    floor_range = st.number_input('–í–≤–µ–¥–∏—Ç–µ —ç—Ç–∞–∂–Ω–æ—Å—Ç—å –∑–¥–∞–Ω–∏—è', min_value=1, max_value=24)

    rooms = st.number_input('–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–Ω–∞—Ç', min_value=1)


btn = st.button("–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Ü–µ–Ω—É",
                help="–ñ–º–∞–∫–∞–π –∫–Ω–æ–ø–∫—É —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞")


if btn:
    test = pd.DataFrame({'–≥–æ–¥ –ø–æ—Å—Ç—Ä–æ–π–∫–∏': build_year,
                     '–ø–ª–æ—â–∞–¥—å': square,
                     '—ç—Ç–∞–∂ –ø–æ–º–µ—â–µ–Ω–∏—è': floor,
                     '—ç—Ç–∞–∂–Ω–æ—Å—Ç—å –∑–¥–∞–Ω–∏—è': floor_range,
                     '–∫–æ–º–Ω–∞—Ç_1_2_3': rooms,
                     '–†–∞—Å—Å—Ç_–¥–æ_–º–∞–≥–∞–∑–∏–Ω–æ–≤': 2950,
                     '–†–∞—Å—Å—Ç_–¥–æ_–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞_—Ü–µ–Ω—Ç—Ä': 3500,
                     '–º–∞—Ç–µ—Ä–∏–∞–ª': material,
                     '—ç—Ç–∞–∂–Ω–æ—Å—Ç—å –ø–æ–º–µ—â–µ–Ω–∏—è (–≥—Ä—É–ø–ø–∞)': '—Å—Ä–µ–¥–Ω–∏–π',
                     '–æ–∫—Ä—É–≥': part,
                     '–∞–¥—Ä–µ—Å': adress}, index=[0])

    st.write("–°—Ç–æ–∏–º–æ—Å—Ç—å –∫–≤.–º. –∫–≤–∞—Ä—Ç–∏—Ä—ã –≤ –¥–∞–Ω–Ω–æ–º –∂–∏–ª—å–µ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç:", float(predict.predict(test)))

